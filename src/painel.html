<div id="script-panel" style="position: fixed; left: 0px; top: 0px; background: #1e1e2f; border: 1px solid #444; z-index: 9999; width: 600px; font-family: 'Segoe UI', sans-serif; color: #fff; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.7);">
  <div id="drag-header" style="background: #2b2b3d; padding: 12px 15px; font-size: 1.1em; display: flex; justify-content: space-between; align-items: center; border-top-left-radius: 12px; border-top-right-radius: 12px;">
    <span id="panel-title">
      <img src="https://i.imgur.com/9CZnA4g.gif" alt="Logo" style="height: 20px; vertical-align: middle; margin-right: 5px;">
      GPT-Bot-BR - Grepolis ⚙️  
    </span>

    <div style="display:flex; gap: 6px;">
      <button id="toggle-min" title="Minimizar" style="background: #444; border: none; color: white; border-radius: 6px; padding: 2px 6px; cursor: pointer;">_ </button>
      <button id="logout-script" title="Sair" style="background: #e74c3c; border: none; padding: 2px 10px; color: white; border-radius: 6px; font-weight: bold; cursor: pointer;">Sair</button>
    </div>
  </div>

  <div id="script-body" style="padding-bottom: 10px;">
    <div class="tabs" style="display: flex; flex-wrap: wrap; background: #3a3a4d; border-bottom: 1px solid #555;">
      <div class="gpt-tab" data-tab="home" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Home</div>
      <div class="gpt-tab" data-tab="farm" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Farm e Aldeias</div>
      <div class="gpt-tab" data-tab="construcao" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Construção</div>
      <div class="gpt-tab" data-tab="farois" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Farois</div>
      <div class="gpt-tab" data-tab="birremes" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Birremes</div>
      <div class="gpt-tab" data-tab="defesa" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Defesa Terra</div>
      <div class="gpt-tab" data-tab="pesquisas" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Pesquisas</div>
      <div class="gpt-tab" data-tab="cultura" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Cultura</div>
      <div class="gpt-tab" data-tab="notificacao" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Notificação</div>
      <div class="gpt-tab" data-tab="apoio" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Enviar Apoio</div>
      <div class="gpt-tab" data-tab="gold" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">RETIRADA</div>
      <div class="gpt-tab" data-tab="voador" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Auto Farm Voador</div>
      <div class="gpt-tab" data-tab="spammp" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Spam MP / Block Spam </div>
      <div class="gpt-tab" data-tab="nc" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Sistema de NC's </div>
      <div class="gpt-tab" data-tab="extra" style="flex: 1 0 25%; padding: 8px; text-align: center; font-size: 13px; cursor: pointer; user-select: none; transition: background 0.2s;">Utilidades</div>
      </div>

    <div class="content" style="padding: 12px;">
      <div class="tab-content active" id="home" style="display: block; font-size: 0.9em; color: #ccc; line-height: 1.5;">
        <div style="margin-top: 8px;">
        <p style="font-size: 16px; font-weight: bold;">
          Importe e Exporte funcional, Assim que importar arquivo, recarregar página.
        </p>
        <button id="export-localstorage" style="margin-bottom: 5px; width: 45%;">📤 Exportar Configurações</button>
        <input type="file" id="import-localstorage-file" accept=".json" style="display:none">
        <button id="import-localstorage" style="width: 45%;">📥 Importar Configurações</button>
      </div>
        <div style="max-height: 300px; overflow-y: auto; padding-right: 5px;">

        <hr>
          <div id="update-alert" style="background:#1e1e1e; padding:12px 15px; border-left: 4px solid #f39c12; border-radius:6px; margin-top:15px; display:none; color: #f1f1f1; font-size: 0.95em;">
            <strong style="color: #f39c12;">🆕 Novidade na versão 1.1!</strong>
            <button id="open-changelog" style="margin-left:10px; background:#2c2c2c; color:#f1f1f1; border:none; padding:5px 12px; border-radius:4px; cursor:pointer; font-size: 0.85em;">
              Veja o que mudou
            </button>
          </div>

          <!-- Conteúdo do changelog -->
          <div id="changelog-content" style="display:none; background:#121212; padding:15px; border-radius:6px; margin-top:10px; border: 1px solid #2e2e2e;">
            <h4 style="color:#ffcc00; margin-bottom:10px;">📦 Novidades da Versão 1.1</h4>
            <ul style="color:#ccc; padding-left: 20px; margin: 0;">
              <li>🟢 Checagem automática de mercado por oceano com market ≥ 5.</li>
              <li>🔔 Sistema de notificação separado para WhatsApp e Discord.</li>
              <li>💾 Configurações salvas automaticamente ao clicar nos campos.</li>
              <li>🧠 Notas da versão visíveis apenas uma vez por usuário.</li>
              <li>🧩 Aba <strong>"Utilidades"</strong> 100% funcional com:
                <ul style="margin-top: 5px; padding-left: 20px;">
                  <li>🔁 Auto Refresh com tempo configurável em minuto, segundo ou hora.</li>
                  <li>🪙 Auto Gruta com nível de armazenamento mínimo e prata.</li>
                  <li>⚔️ Auto Camp (missões de ilha).</li>
                  <li>🙏 Auto Colocar Deus (cidades sem deuses).</li>
                  <li>🧪 Auto Narci + Prot / Auto Puri + Prot / Auto Praga + Prot.</li>
                </ul>
              </li>
            </ul>

          <hr>
          </div>

          <p>Informações sobre o bot!<br><br></p>
          <p id="b_info" style="margin:10px 0; font-size: 0.9em; color:#ccc; text-align: left;">
            Para as funcionalidades "Farois" "Birremes" e "Defesa Terra", tenha o administrador ativo para gerência de grupos separados. E seus repectivos heróis 
            (Exceto para "Defesa Terra"), não seja leso!!.
          </p>
          <p id="b_info" style="margin:10px 0; font-size: 0.9em; color:#ccc; text-align: left;">
          Para a funcionalidade "Construção", caso não tenha administrador ativo, sete um grupo chamado "Todos", pois esse é um grupo padrão
          do grepolis, até mesmo para quem não tem administrador ativo, nesse caso, resta setar um grupo de construção único que será ativado para todas as cidades 
          (Deixe de ser liso e ative essa merda).
          </p>
          <p id="b_info" style="margin:10px 0; font-size: 0.9em; color:#ccc; text-align: left;">
          Ainda sobre a aba "Construção, se você tem administrador ativo, ainda recomendamos usar o grupo "Todos" como uma forma base de construção, seta ele
          no estilo de uma base para todos os grupo, ex: (Pedreira 15, Serraria 15, Mina de prata 15, Senado 15, armazém 20, fazenda 20, templo 5, quartel 5, mercado 10)
          dessa forma, quando você fundar ela automaticamente cairá no grupo "Todos" e já iniciará essas construções base que qualquer outro grupo vai ter que construir
          também, assim não perde tempo e depois pode direcionar para o grupo desejado configurado.
          </p>
          <p id="b_info" style="margin:10px 0; font-size: 0.9em; color:#ccc; text-align: left;">
          Combo perfeito para setup, ex:<br>
          tropa terreste.... abas "Construção", "Defesa Terra" e "Pesquisas" usar mesmo grupo, configura as construções, deixa configurado aba Defesa Terra e 
          setado as pesquisas para uma cidade de defesa (de sua escolha). Assim ao mover para esse grupo, ele irá construir, fazer as pesquisas e ao chegar nos
          requisitos de fabricar as tropas, já inicia tudo, você não precisa se preocupar com nada.
          <br>Combine as funcionalidades das abas em conjunto com os grupo, não seja leso!!...
          </p>
        </div>
      </div>

      <div class="tab-content" id="farm" style="display:none">
        <label>Tempo do Loop de Farm:<br>
          <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 5px; margin: 5px 0;">
            <button class="farm-time-btn" data-min="5">5min</button>
            <button class="farm-time-btn" data-min="10">10min</button>
            <button class="farm-time-btn" data-min="20">20min</button>
            <button class="farm-time-btn" data-min="40">40min</button>
          </div>
          <select id="farm_mode_selector" style="margin-top:5px; width: 50%; margin-bottom: 5px;">
            <option value="padrao">Modo Rápido (botões acima)</option>
            <option value="personalizado">Personalizado</option>
          </select>
          <input id="farm_loop_time" type="number" min="1" style="width: 10%;" placeholder="Tempo em minutos" disabled>
        </label><br>
        <button id="farm_toggle_script" style="background: darkred; color: white; margin-top: 10px;">Ativar Script</button>
        <div id="farm_status" style="margin-top:10px;"></div>

        <hr style="margin: 15px 0;">
      <div id="aldeia-upgrade-container">
        <label>Auto Upar Aldeias:<br>
          <div id="aldeia-nivel-buttons" style="display: flex; justify-content: center; flex-wrap: wrap; gap: 5px; margin: 5px 0;">
            <button class="aldeia-nivel-btn" data-nivel="1">Level 1</button>
            <button class="aldeia-nivel-btn" data-nivel="2">Level 2</button>
            <button class="aldeia-nivel-btn" data-nivel="3">Level 3</button>
            <button class="aldeia-nivel-btn" data-nivel="4">Level 4</button>
            <button class="aldeia-nivel-btn" data-nivel="5">Level 5</button>
            <button class="aldeia-nivel-btn" data-nivel="6">Level 6</button>
          </div>
        </label>
        <button id="aldeia-up-toggle" style="background: darkred; color: white;">Ativar Upe Aldeias</button>
      </div>
      </div>


        <div class="tab-content" id="construcao" style="display:none";>
          <div style="max-height: 350px; overflow-y: auto; padding: 10px; box-sizing: border-box; width: 100%;">
            <label style="margin-top: 10px; display:block">
              <select id="group-selector" style="width:50%; margin-bottom:10px;"></select> ⬅ Grupos salvo
            </label>
            <label>
              <input type="text" id="group-name" placeholder="Ex: Defesa" style="width:43.5%; margin-bottom:10px;">
            </label> ⬅ Nome do grupo <br>
            <div id="blocks-container"></div>
          </div>
          <div style="margin-top: 20px;">
            <button id="add-block">+ Bloco</button>
            <button id="save-group">Salvar Grupo</button>
            <button id="delete-group">Excluir Grupo</button>
            <button id="new-group">Novo Grupo</button>
            <div id="build-feedback" style="margin-top:10px; color:lightgreen;"></div>
          </div>
        </div>

        <div class="tab-content" id="farois" style="display:none;">
        <label>Grupo De Cidades Farois:
          <input id="farois_target_group" type="text" style="width: 30%; margin-left: 40px;" placeholder="Ex: Farois">
        </label><br>
        <label>Grupo ignorado (Para Recursos):
          <input id="farois_ignore_group" type="text" style="width: 30%;" placeholder="Ex: OC64">
        </label><br>
        <label> Iniciar a partir da Fazenda nível:
          <input id="farois_farm_level" type="number" min="1" value="45" style="width: 60px; margin-left: 8px;">
        </label><br>
        <label>Iniciar a partir do Armazém nível:
          <input id="farois_storage_level" type="number" min="1" value="20" style="width: 60px;">
        </label><br>
        <label>Iniciar a partir do Porto nível:
          <input id="farois_docks_level" type="number" min="1" value="10" style="width: 60px; margin-left: 23px;">
        </label><br><br>

        <button id="farois_save_config">Salvar Configurações</button>
        <button id="farois_toggle_script" style="margin-left:5px; background: darkred; color: white;">Ativar Script</button>
        <div id="farois_status" style="margin-top:10px;"></div>
        <p id="b_info" style="margin:10px 0; font-size: 0.9em; color:#ccc; text-align: left;">
            Defina o grupo alvo para recrutamento automático de farois. Aristóteles será movido para a cidade com maior população livre.<br>
            Script envia recursos de todas as cidades com prioridade das cidades mais próximas.<br>
            <strong>Grupo ignorado:</strong> Cidades que estejam nesse grupo não serão usadas para envio de recursos.<br><br>
            <strong>OBS:</strong> Se tiver movimentação de comércio, script irá esperar acabar para enviar os recursos.<br>
            Não recomendamos o uso <u>dessa função</u> junto com a função "Birremes" ativa, para evitar congelamento por movimentação de recursos.
         </p>
        </div>

        <div class="tab-content" id="birremes" style="display:none";>
          <label>Grupo De Cidades Birremes:
            <input id="b_target_group" type="text" style="width: 30%; margin-left: 23px;" placeholder="Ex: Birremes">
         </label><br>
         <label>Grupo ignorado (Para Recursos):
           <input id="b_ignore_group" type="text" style="width: 30%;" placeholder="Ex: OC64">
         </label><br>
         <label>Iniciar a partir da Fazenda nível: <input id="b_farm_level" type="number" min="1" value="45" style="width: 60px; margin-left: 8px;"></label><br>
         <label>Iniciar a partir do Armazém nível: <input id="b_storage_level" type="number" min="1" value="20" style="width: 60px;"></label><br>
         <label>Iniciar a partir do Porto nível: <input id="b_docks_level" type="number" min="1" value="10" style="width: 60px; margin-left: 23px;"></label><br><br>
         <button id="b_save_config">Salvar Configurações</button>
         <button id="b_toggle_script" style="background: darkred; color: white; margin-left: 10px;">Ativar Script</button>
         <div id="b_status" style="margin-top:10px; color:lightgreen;"></div>
         <p id="b_info" style="margin:10px 0; font-size: 0.9em; color:#ccc; text-align: left;">
            Defina o grupo alvo para recrutamento automático de birremes. Dédalo será movido para a cidade com maior população livre.<br>
            Script envia recursos de todas as cidades com prioridade das cidades mais próximas.<br>
            <strong>Grupo ignorado:</strong> Cidades que estejam nesse grupo não serão usadas para envio de recursos.<br><br>
            <strong>OBS:</strong> Se tiver movimentação de comércio, script irá esperar acabar para enviar os recursos.<br>
            Não recomendamos o uso <u>dessa função</u> junto com a função "Farois" ativa, para evitar congelamento por movimentação de recursos.
         </p>
       </div>

        <div class="tab-content" id="defesa" style="display:none;">
        <div style="max-height: 300px; overflow-y: auto; padding-right: 5px;">
          <label>Grupo De Cidades Defesa:
            <input id="defesa_target_group" type="text" style="width: 30%; margin-left: 35px;" placeholder="Ex: Defesa">
          </label><br>
          <label>Grupo ignorado (Para Recursos):
            <input id="defesa_ignore_group" type="text" style="width: 30%;" placeholder="Ex: OC64">
          </label><br>
          <label>Fazenda mínima: <input id="defesa_farm_level" type="number" min="1" value="45" style="width: 60px; margin-left: 90px"></label><br>
          <label>Armazém mínimo: <input id="defesa_storage_level" type="number" min="1" value="30" style="width: 60px; margin-left: 82px"></label><br>
          <label>Quartel mínimo: <input id="defesa_barracks_level" type="number" min="1" value="5" style="width: 60px; margin-left: 94px"></label><br><br>

          
          <div id="defesa_troop_blocks_container"></div>
          <button id="defesa_add_troop_block">+ Bloco de Tropas</button>
          

          <p id="defesa_total_pop" style="margin-top:5px; font-size: 0.9em;">População total: 0</p>
          <p id="defesa_pop_terra" style="font-size: 0.9em;">População Terrestre: 0</p>
          <p id="defesa_carga_navalsem" style="font-size: 0.9em;">Capacidade de carga naval (Sem Beliche): 0</p>
          <p id="defesa_carga_navalcom" style="font-size: 0.9em;">Capacidade de carga naval (Com Beliche): 0</p>

        </div>

        <div style="margin-top: 25px;">
          <button id="defesa_save_config">Salvar Configurações</button>
          <button id="defesa_toggle_script" style="margin-left:5px; background: darkred; color: white;">Ativar Script</button>
        </div>
          <div id="defesa_status" style="margin-top:10px;"></div>
        </div>

       <div class="tab-content" id="pesquisas" style="display:none;">
        <label>Grupo:
          <input type="text" id="pesquisa_group_name" placeholder="Ex: Defesa" style="width:40%; margin-bottom:10px;">
        </label>
        <label style="margin-bottom: 5px; display:block">Grupo salvo:
          <select id="pesquisa_group_selector" style="width:50%; margin-bottom:10px;"></select>
        </label>

        <div id="pesquisa_checkboxes_container" style="max-height:300px; overflow-y:auto; padding:5px; border:1px solid #555;"></div>
        <div style="margin-top: 20px;">
          <button id="pesquisa_save_group">Salvar Grupo</button>
          <button id="pesquisa_delete_group">Excluir Grupo</button>
          <button id="pesquisa_new_group">Novo Grupo</button>
        </div>
        <div id="pesquisa_feedback" style="margin-top:10px; color:lightgreen;"></div>
       </div>



        <div class="tab-content" id="cultura" style="display:none;">
          <p style="margin-bottom: 10px; font-size: 14px;">Eventos culturais automáticos.</p>
          <p style="margin-bottom: 10px; font-size: 14px;">Código checa a cada 5 minutos a tentativa de evento culturais.</p>
          <label for="cultura_min_victory" style="display: block; margin-bottom: 6px; font-size: 13px;">
            Cultura mínima para Desfile da Vitória:<br>Clique em um botão para salvar.
          </label>

          <input id="cultura_min_victory" type="number" min="0" value="0"
                 style="width: 80px; padding: 4px 6px; margin-bottom: 15px; border-radius: 5px; border: 1px solid #888; font-size: 13px; background: #111; color: white;">

          <div id="cultura_buttons" style="
               display: grid;
               grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
               gap: 8px;
             ">
            <button class="cultura-btn" data-type="party" style="
                padding: 6px 10px;
                background: #222;
                color: white;
                border: 1px solid #666;
                border-radius: 5px;
                font-weight: bold;
                font-size: 13px;
                cursor: pointer;
                transition: all 0.2s;
              ">Festival Urbano</button>

            <button class="cultura-btn" data-type="games" style="
                padding: 6px 10px;
                background: #222;
                color: white;
                border: 1px solid #666;
                border-radius: 5px;
                font-weight: bold;
                font-size: 13px;
                cursor: pointer;
                transition: all 0.2s;
              ">Jogos Olímpicos</button>

            <button class="cultura-btn" data-type="triumph" style="
                padding: 6px 10px;
                background: #222;
                color: white;
                border: 1px solid #666;
                border-radius: 5px;
                font-weight: bold;
                font-size: 13px;
                cursor: pointer;
                transition: all 0.2s;
              ">Desfile da Vitória</button>

            <button class="cultura-btn" data-type="theater" style="
                padding: 6px 10px;
                background: #222;
                color: white;
                border: 1px solid #666;
                border-radius: 5px;
                font-weight: bold;
                font-size: 13px;
                cursor: pointer;
                transition: all 0.2s;
              ">Peças de Teatro</button>
          </div>
        </div>


        <div class="tab-content" id="notificacao" style="display:none;">
          <label>Whatsapp (cód. país + DDD + número):<br>
            <button id="whatsapp-test" style="margin: 5px 0; width: 45%;">Testar requisição WhatsApp</button>
            <input id="whatsapp-number" style="width: 30%; margin-bottom: 5px; margin-left: 10px;" placeholder="Ex: 558899999999">
          </label><br>
          
          <small>OBS: Se não chegou, talvez seu contato precise do 9 adicional ou removê-lo.</small>
          <hr>
          <label>Discord Webhook:<br>
            <input id="discord-webhook" style="width: 85%; margin-bottom: 10px;" placeholder="https://discord.com/api/webhooks/...">
          </label><br>
          <label><input type="checkbox" id="notify-attack" checked> Notificar ataques? >> 
          <input style="margin-left: 59px;" type="checkbox" id="notify-attack-whatsapp" checked> Whatsapp</label>
          <input type="checkbox" id="notify-attack-discord" checked> Discord</label><br>

          <label><input type="checkbox" id="notify-slot" checked> Notificar slot disponível? >>
          <input style="margin-left: 21px;" type="checkbox" id="notify-slot-whatsapp" checked> Whatsapp</label>
          <input type="checkbox" id="notify-slot-discord" checked> Discord</label><br>

          <label><input type="checkbox" id="notify-captcha" checked> Notificar Captchan? >>
          <input style="margin-left: 50px;" type="checkbox" id="notify-captcha-whatsapp" checked> Whatsapp</label>
          <input type="checkbox" id="notify-captcha-discord" checked> Discord</label><br>

          <label><input type="checkbox" id="notify-market" checked> Notificar Gold no mercado? >>
          <input type="checkbox" id="notify-market-whatsapp" checked> Whatsapp</label>
          <input type="checkbox" id="notify-market-discord" checked> Discord</label>
        </div>

        <div class="tab-content" id="apoio" style="display:none">
          <p style="font-weight: bold; font-size: 12px;">OBS: Para usar todas cidades do jogo, use o grupo de cidade "Todos".</p>
          <hr>
          <h3 class="titulo-aba">Enviar Apoio</h3>
          <div class="linha" style="text-align: left;">
            <label>Grupo de cidades para enviar apoio:</label>
            <input type="text" id="grupo-apoio" placeholder="Ex: Defesa Terra" style="width: 150px; margin-left: 30px;">
          </div>

          <div class="linha" style="text-align: left;">
            <label>Tipo de apoio:</label>
            <select id="tipo-apoio" style="width: 158px; margin-left: 155px;">
              <option value="">-- Selecione --</option>
              <option value="birreme">Birreme/Naval</option>
              <option value="terrestre">Terrestre</option>
            </select>
          </div>

          <div class="linha" style="text-align: left;">
            <label>ID da cidade destino:</label>
            <input type="number" id="cidade-destino" placeholder="Ex: 12345" style="width: 150px; margin-left: 117px;">
          </div>

          <div id="naval-options" style="display:none"><br><br>
            <label style="font-weight: bold; font-size: 15px;">Quais tropas navais podem ser enviadas:</label><br>
            <div class="tropas-container" style="
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 6px 12px;
              justify-items: start;
              padding-top: 5px;
            ">
              <label><input type="checkbox" value="big_transporter"> Barco Lento</label>
              <label><input type="checkbox" value="bireme"> Birreme</label>
              <label><input type="checkbox" value="attack_ship"> Navio-farol</label>
              <label><input type="checkbox" value="demolition_ship"> Navio incendiário</label>
              <label><input type="checkbox" value="small_transporter"> Barco Rápido</label>
              <label><input type="checkbox" value="trireme"> Trirreme</label>
              <label><input type="checkbox" value="sea_monster"> Hidra</label>
            </div>
          </div>

          <div id="terrestre-options" style="display:none">
            <div class="linha">
              <br><label style="font-weight: bold; font-size: 15px;">Quais barcos usar:</label><br>
              <label><input type="checkbox" value="big_transporter" class="check-barco"> Barco Lento</label>
              <label><input type="checkbox" value="small_transporter" class="check-barco"> Barco Rápido</label>
            </div>
            <div class="linha">
              <br><label style="font-weight: bold; font-size: 15px;">Quais tropas podem ser enviadas:</label><br>
              <div class="tropas-container" style="
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 6px 12px;
              justify-items: start;
              padding: 10px;
              max-width: 600px;
              margin: 0 auto;
              ">
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="sword"> Espadachim</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="slinger"> Fundibulário</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="archer"> Arqueiro</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="hoplite"> Hoplita</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="rider"> Cavaleiro</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="chariot"> Biga</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="catapult"> Catapulta</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="godsent"> Enviado Divino</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="zyklop"> Ciclope</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="manticore"> Manticora</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="minotaur"> Minotauro</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="harpy"> Harpia</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="medusa"> Medusa</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="centaur"> Centauro</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="pegasus"> Pégaso</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="cerberus"> Cérbero</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="fury"> Erínia</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="griffin"> Grifo</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="calydonian_boar"> Javali de Cálidon</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="satyr"> Sátiro</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="spartoi"> Esparto</label>
                <label style="display: flex; align-items: center; gap: 4px;"><input type="checkbox" value="ladon"> Ladão</label>
              </div>
            </div>
          </div>

          <div class="linha">
            <button id="salvar-apoio">Salvar Dados</button>
            <button id="enviar-apoio">Enviar Apoio</button>
          </div>
          <div id="mensagem-apoio" style="color: lightgreen; margin-top: 10px; display: none;">Configurações salvas com sucesso!</div>
        </div>

        <div class="tab-content" id="gold" style="display:none">
          <p>ACESSE ABA DE NOTIFICAÇÃO</p>
        </div>

        <div class="tab-content" id="voador" style="display:none">
          <p>Será adicionado funcionalidade para auto fazer voadores com sistema de farms de favores.</p>
        </div>
        <div class="tab-content" id="spammp" style="display:none">
          <p>Será adicionado funcionalidade para auto fazer voadores com sistema de farms de favores.</p>
        </div>

        <div class="tab-content" id="nc" style="display:none">
          <p>Aba muito usada para mults de NC, para fabricação e envio de NC.</p>
          <hr>
          <h4 style="margin: 5px 0; color: white;">🔁 Envio Automático de NC</h4>
          <label>ID da Cidade de Destino:
            <input id="nc_destino_id" type="number" style="width:20%; margin-left: 97px;" placeholder="Ex: 12345">
          </label><br>
          <label>Tempo em minutos do loop de envio:
            <input id="nc_envio_interval" type="number" style="width:20%; margin-left: 25px;" placeholder="Ex: 60">
          </label><br>
          <button id="nc_envio_salvar" style="margin-top: 5px;">Salvar dados</button>
          <button id="nc_envio_ativar" style="margin-top: 5px; background: darkred; color: white;">Ativar Envio de NC</button>
          <div id="nc_envio_status" style="margin-top: 5px;"></div>

          <hr>
          <h4 style="margin: 5px 0; color: white;">⚒️ Fabricação Automática de NC</h4>
          <label>Tempo em minutos do loop de fabricação:
            <input id="nc_fabricacao_interval" type="number" style="width:20%;" placeholder="Ex: 60">
          </label><br>
          <button id="nc_fabricacao_salvar" style="margin-top: 5px;">Salvar dados</button>
          <button id="nc_fabricacao_ativar" style="margin-top: 5px; background: darkred; color: white;">Ativar Fabricação de NC</button>
          <div id="nc_fabricacao_status" style="margin-top: 5px;"></div>
        </div>

        <div class="tab-content" id="extra" style="display:none">
          <div style="max-height: 300px; overflow-y: auto; padding-right: 5px;">
            <p> Auto Refresh </p>
            <label>Tempo para reload de página:
            <input id="refresh_timer" type="number" value="30" placeholder="30" style="width: 15%;">
            <select id="refresh_option" style="width: 20%; margin-top: 5px; margin-left: 10px;">
                <option value="3600">Hora(s)</option>
                <option value="60" selected>Minuto(s)</option>
                <option value="1">Segundo(s)</option>
              </select>
            </label><br>

            <br><button id="refresh_save" style="background: darkred; color: white;">Salvar</button>
            <button id="refresh_toggle_script" style="background: darkred; color: white;">Ativar Reload</button>
            <div id="refresh_save_status" style="margin-top: 10px;"></div>
            <div id="refresh_status" style="margin-top: 10px;"></div>
            
            <hr>

            <p> Auto Gruta </p>
            
            <label>Guardar gruta quando o armazém estiver no mínimo em:
              <select id="gruta_porcentagem" style="width: 15%; margin-top: 5px; margin-left: 10px;">
                <option value="0">0%</option>
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30">30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100" selected>100%</option>
              </select>
            </label>

            
            <label>Quanto de prata deve ser guardada no armazém:
              <select id="prata_porcentagem" style="width: 15%; margin-top: 5px; margin-left: 55px;">
                <option value="10">10%</option>
                <option value="20">20%</option>
                <option value="30" selected>30%</option>
                <option value="40">40%</option>
                <option value="50">50%</option>
                <option value="60">60%</option>
                <option value="70">70%</option>
                <option value="80">80%</option>
                <option value="90">90%</option>
                <option value="100">100%</option>
              </select>
            </label>

            <br><br> 
            <button id="gruta_save" style="background: darkred; color: white;">Salvar</button>
            <button id="gruta_toggle_script" style="background: darkred; color: white;">Ativar Auto Gruta</button>
            <div id="gruta_save_status" style="margin-top: 10px;"></div>
            <div id="gruta_status" style="margin-top: 10px;"></div>
            
            <hr>

            <label style="padding: 0px; margin: 0px;">Auto atacar missão ilha:
              <button id="camp_toggle_script" style="background: darkred; color: white; width: 130px; margin-left: 91px;">Ativar Auto Camp</button>
            </label>
            <div id="camp_status" style="margin: 10px;"></div>
            

            <label style="padding: 0px; margin: 0px;">Auto colocar Deus (cidade sem deuses):
              <button id="deus_toggle_script" style="background: darkred; color: white; width: 130px">Ativar Auto Deuses</button>
            </label>
            <div id="deus_status" style="margin: 10px;"></div>


            <hr>
            <p style="text-align: left;">Para o uso das 3 opções abaixo, recomendo colocar 5s antes quando for usado em cerco.<br>
                O bot irá spammar durante 10s a partir do horário escolhido, exemplo: 10:10:10 ele irá tentar spammar o feitiço entre
                10:10:10 ~~ 10:10:20. Então se o cerco for 10:10:10, coloque 10:10:05, dessa forma ele inicia 10:10:05 até 10:10:15. Assim você tem 5
                segundos de segurança para caso tenha algum atraso de relógio do seu computador.</p>
            <hr>
            
            <label style="display: flex; align-items: center; gap: 6px; margin-bottom: 10px;">
              ID da cidade para Narci (Ideal para cerco inimigo):
              <input id="narci_city" type="number" value="" placeholder="Ex: 12345" style="width: 82px; margin-left:14px">
            </label>
            <label style="display: flex; align-items: center; gap: 6px; margin-bottom: 10px;">
              Auto+Narci+Prot Horário:
              <select id="narci-hora" style="width: 38px; margin-left: 3px;">
                ${[...Array(24).keys()].map(h => `<option value="${h}">${String(h).padStart(2, '0')}</option>`).join('')}
              </select>
              :
              <select id="narci-minuto" style="width: 38px;">
                ${[...Array(60).keys()].map(m => `<option value="${m}">${String(m).padStart(2, '0')}</option>`).join('')}
              </select>
              :
              <select id="narci-segundo" style="width: 38px;">
                ${[...Array(60).keys()].map(s => `<option value="${s}">${String(s).padStart(2, '0')}</option>`).join('')}
              </select>
              <button id="narci_toggle_script" style="background: darkred; color: white; width: 91px">Ativar Narci</button>
              </label>
              <div id="narci_status" style="margin: 10px;"></div>

              <hr>
            
            <label style="display: flex; align-items: center; gap: 6px; margin-bottom: 10px;">
              ID da cidade para Puri (Ideal para cerco Aliado):
              <input id="puri_city" type="number" value="" placeholder="Ex: 12345" style="width: 82px; margin-left:28px">
            </label>
            <label style="display: flex; align-items: center; gap: 6px; margin-bottom: 10px;">
              Auto+Puri+Prot Horário:
              <select id="puri-hora" style="width: 38px; margin-left: 9px;">
                ${[...Array(24).keys()].map(h => `<option value="${h}">${String(h).padStart(2, '0')}</option>`).join('')}
              </select>
              :
              <select id="puri-minuto" style="width: 38px;">
                ${[...Array(60).keys()].map(m => `<option value="${m}">${String(m).padStart(2, '0')}</option>`).join('')}
              </select>
              :
              <select id="puri-segundo" style="width: 38px;">
                ${[...Array(60).keys()].map(s => `<option value="${s}">${String(s).padStart(2, '0')}</option>`).join('')}
              </select>
              <button id="puri_toggle_script" style="background: darkred; color: white; width: 91px">Ativar Purif</button>
              </label>
              <div id="puri_status" style="margin: 10px;"></div>
            
            <hr>

            <label style="display: flex; align-items: center; gap: 6px; margin-bottom: 10px;">
              ID da cidade para Praga (Ideal para cerco Aliado):
              <input id="praga_city" type="number" value="" placeholder="Ex: 12345" style="width: 82px; margin-left:18px">
            </label>
            <label style="display: flex; align-items: center; gap: 6px; margin-bottom: 10px;">
              Auto+Praga+Prot Horário:
              <select id="praga-hora" style="width: 38px;">
                ${[...Array(24).keys()].map(h => `<option value="${h}">${String(h).padStart(2, '0')}</option>`).join('')}
              </select>
              :
              <select id="praga-minuto" style="width: 38px;">
                ${[...Array(60).keys()].map(m => `<option value="${m}">${String(m).padStart(2, '0')}</option>`).join('')}
              </select>
              :
              <select id="praga-segundo" style="width: 38px;">
                ${[...Array(60).keys()].map(s => `<option value="${s}">${String(s).padStart(2, '0')}</option>`).join('')}
              </select>
              <button id="praga_toggle_script" style="background: darkred; color: white; width: 91px">Ativar Praga</button>
            </label>
            <div id="praga_status" style="margin: 10px;"></div>
            

          </div>
        </div>

    </div>
  </div>
</div>
    <script>
      document.querySelectorAll('.gpt-tab').forEach(tab => {
        tab.addEventListener('click', () => {
          document.querySelectorAll('.gpt-tab').forEach(t => t.classList.remove('active'));
          document.querySelectorAll('.tab-content').forEach(tc => tc.style.display = 'none');
          tab.classList.add('active');
          const selectedId = tab.getAttribute('data-tab');
          document.getElementById(selectedId).style.display = 'block';
        });
      });

      document.querySelectorAll('.gpt-tab').forEach(t => {
        t.style.borderRight = '1px solid #444';
        t.style.color = '#eee';
      });

      // ✅ Corrigido: usando .gpt-tab
      function aplicarEstilosPainel() {
        $('.tabs').css({
          'display': 'grid',
          'grid-template-columns': 'repeat(auto-fit, minmax(100px, 1fr))',
          'gap': '2px'
        });

        $('.gpt-tab').css({
          'padding': '8px',
          'text-align': 'center',
          'font-size': '13px',
          'cursor': 'pointer',
          'user-select': 'none',
          'background': '#3a3a4d',
          'color': '#eee',
          'transition': 'background 0.2s',
          'border-bottom': '2px solid transparent'
        });

        $('.gpt-tab.active').css({
          'background': '#444',
          'font-weight': 'bold',
          'border-bottom': '2px solid #6fa8dc'
        });
      }

      aplicarEstilosPainel();
    </script>


    <style>
      .farois-text {
        text-align: left;
      }
    </style>